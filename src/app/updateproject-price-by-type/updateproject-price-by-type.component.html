<div class="page-header-section">
  <br>
  <H1 class="header11">Add Project Pricing</H1>

  <div class="p-5 cmll41" style="background-color:white;  padding: 1rem!important;">
    <form (keydown.enter)="$event.preventDefault()" (ngSubmit)="onSubmited()" [formGroup]="superForms">
      <div class="d-flex justify-content-end ">
        <div fxFlex="25%"><span style="font-weight: bold;">Project Name:

          </span> <span>{{projectName}}</span>
        </div>
        <div fxFlex="25%"><span style="font-weight: bold;">Profit Center:

          </span> <span>{{profitCenter}}</span>
        </div>
        <div fxFlex="25%"><span style="font-weight: bold;">Type:

          </span> <span> {{objId}}</span>
        </div>
        <div fxFlex="25%" style="text-align: right;">
          <button class="clr" type="button" value="colourchange" mat-raised-button
            (click)="close()">
            Cancel
          </button>
          <button class="ms-2" type="submit" mat-raised-button color="primary" >
            Save
          </button>
        </div>
      </div>
      <div class="d-flex justify-content-end ">
        <button class="ms-2" type="button" mat-raised-button color="primary"
          style="box-sizing: content-box; margin-top: 10px;" (click)="addCurrencyArray()">
          Add</button>
      </div>
      <div class="page-content-section mt-t25">
        <div class="d-flex">
          <div>
            <div class="borderTablew1 border p-2">Month</div>

            <div class="borderTablew1 border p-2">Revenue</div>
            <div class="borderTablew1 border p-2">Cost</div>
          </div>
          <div formArrayName="projectPricingMonthWiseCreateDTOS" class="tableDisplay">

            <div *ngFor="let electiondata of projectPricingMonthWiseCreateDTOS.controls; let i=index"
              [formGroupName]="i">



               <div class="p-0" style="margin: 10px; height: 40px;">
               <mat-form-field dateFormat2 appearance="outline" class="pb-0 w-100 form-field-price" >
                  
                  <input matInput [matDatepicker]="picker2" formControlName="month"  >
                  <mat-datepicker #picker2 ></mat-datepicker>
                </mat-form-field>
                <mat-datepicker-toggle matIconSuffix [for]="picker2" class="dateIcon" style="margin-left: -40px; float: right;"></mat-datepicker-toggle>
              
                <!-- <mat-error *ngIf="projectPricingMonthWiseCreateDTOS.get('month')?.hasError('required')">
                  Party name is required
                </mat-error> -->
                <!-- <input formControlName="month" type="text" id="fname13" name="fname" style="border: none; padding-top: 10px;"> -->
              </div>
              <div class="p-1 border" style="margin: 10px; height: 44px;">
                <input formControlName="revenue" type="text" id="fname1" name="fname" style="border: none; padding-top: 10px;">
              </div>
              <div class="p-1 border" style="margin: 10px; height: 42px;">
                <input formControlName="cost" (keyup.enter)="addCurrencyArray()" type="text" id="fname2" name="fname" style="border: none; padding-top: 10px;">

              </div>



            </div>
          </div>
          <br>
          
        </div>
        <div class="d-flex justify-content-end ">
          <button class="ms-2" type="button" mat-raised-button color="primary"
            style="box-sizing: content-box; margin-top: 10px;" (click)="addCurrencyForTM()">
            Add</button>
        </div>

            <div class="">
              <div class="table-responsive">
                  <table class="table">
                      <thead>
                          <tr>
                              <td scope="col" style="padding-left: 10px;">Resource</td>
                              <td scope="col">Sell Price</td>
                              <td scope="col">Sell Currency</td>
                              <td scope="col">Transfer Price</td>
                              <td scope="col">Transfer Currency</td>
                              <td scope="col">Effective Date</td>
                          </tr>
                      </thead>
                      <tbody formArrayName="tandmCreateDTOList">
                          <tr *ngFor="let electiondata of tandmCreateDTOList.controls; let i=index"
                              [formGroupName]="i">
                              <td><mat-form-field appearance="outline" class="text-width">

                                <mat-label>Select Resource</mat-label>
                                <input type="text"
                                       placeholder="Select Resource"
                                       aria-label="Number"
                                       matInput
                                       formControlName="resourceId"
                                       [matAutocomplete]="auto"
                                       (input)="currentFormArrayIndex(i)">
                                <mat-autocomplete #auto="matAutocomplete">
                                  <mat-option *ngFor="let company of autoData" [value]="company.name">
                                    {{company.name}}
                                  </mat-option>
                                </mat-autocomplete>



                                      <!-- <mat-label>Select Resource</mat-label>
                                      <mat-select formControlName="resourceId">
                                          <mat-option *ngFor="let resource of resourceList"
                                              [value]="resource.resourceId">{{resource.name}}
                                          </mat-option>
                                      </mat-select> -->
                                  </mat-form-field></td>
                              <td><input type="text" id="fname1" formControlName="salePrice" name="fname1"
                                      class="text-width" style="border-radius: 5px; border: 1px solid #dee2e6;">
                                  <!-- <div *ngIf="sform.salePrice.errors.required">Number is required.</div>
                                  <div *ngIf="sform.salePrice.errors.pattern">Enter only number.</div> -->
                              <td>
                              <mat-form-field appearance="outline">
                                <!-- <mat-label>Base Currency</mat-label> -->

                                <mat-select  formControlName="sellCurrency">
                                  <mat-option value="">--Select Currency--</mat-option>
                                  <!-- <mat-option [value]="p.id" *ngFor="let p of partyList">{{p.partyName}}</mat-option> -->
                                  <mat-option value="AUD">AUD</mat-option>
                                  <mat-option value="USD">USD</mat-option>
                                  <mat-option value="INR">INR</mat-option>
                                  <mat-option value="GBP">GBP</mat-option>
                                </mat-select>
                              </mat-form-field>
                                
                                <!-- <input type="text" id="fname2" formControlName="sellCurrency" name="fname2"
                                      class="text-width" style="border-radius: 5px; border: 1px solid #dee2e6;"> -->
                                    </td>
                              <td><input type="text" id="fname3" formControlName="transferPrice" name="fname3"
                                      class="text-width" style="border-radius: 5px; border: 1px solid #dee2e6;"></td>
                              <td>
                                <mat-form-field appearance="outline">
                                  <!-- <mat-label>Base Currency</mat-label> -->
  
                                  <mat-select  formControlName="transferCurrency">
                                    <mat-option value="">--Select Currency--</mat-option>
                                    <!-- <mat-option [value]="p.id" *ngFor="let p of partyList">{{p.partyName}}</mat-option> -->
                                    <mat-option value="AUD">AUD</mat-option>
                                    <mat-option value="USD">USD</mat-option>
                                    <mat-option value="INR">INR</mat-option>
                                    <mat-option value="GBP">GBP</mat-option>
                                  </mat-select>
                                </mat-form-field>

                                <!-- <input type="text" id="fname4" formControlName="transferCurrency" name="fname4"
                                      class="text-width" style="border-radius: 5px; border: 1px solid #dee2e6;"></td> -->
                              <td><mat-form-field appearance="outline" class="text-width">
                                      <mat-label>Effective Date</mat-label>
                                      <input (keyUp.enter)="addCurrencyForTM()" matInput [matDatepicker]="picker" 
                                      
                                      (dateInput)="setPatientsVisitsDateTiming($event.value)"
                                          formControlName="effectiveDate">
                                      <!-- <mat-datepicker-toggle matIconSuffix [for]="pickerr" style="margin-left: 140px; margin-top:100px"></mat-datepicker-toggle> -->
                                      <mat-datepicker #picker></mat-datepicker>
                                  </mat-form-field>
                                  <mat-datepicker-toggle style="margin-left: -70px;" matIconSuffix [for]="picker">
                                  </mat-datepicker-toggle>
                              </td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>




            <!-- <div>
              <div class="tableDisplay">
                <div>
                  <div class="borderTablew1">ganesh</div>

                  <div class="borderTablew1">kumar</div>
                  <div class="borderTablew1">test</div>
                </div>


              </div>
            </div> -->
          
      
      </div>

    </form>
  </div>
</div>